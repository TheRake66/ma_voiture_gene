import Http from"./Http.min.js";import Location from"../url/location.min.js";
/**
 * Librairie de communication avec une API REST.
 * 
 * @author Thibault Bustos (TheRake66)
 * @version 1.0
 * @category Framework source
 * @license MIT License
 * @copyright Â© 2022 - Thibault BUSTOS (TheRake66)
 */export default class Rest{static getFor(t,l=null,n=null,u=null,s=null,e=null,a=null,c={},o=0,i=!0){Rest.#t(t,l,n,u,s,e,a,c,o,i,Http.METHOD_GET)}static get(t,l=null,n=null,u=null,s=null,e={},a=0,c=!0){Rest.#l(t,l,n,u,s,e,a,c,Http.METHOD_GET)}static post(t,l=null,n=null,u=null,s=null,e={},a=0,c=!0){Rest.#l(t,l,n,u,s,e,a,c,Http.METHOD_POST)}static put(t,l=null,n=null,u=null,s=null,e={},a=0,c=!0){Rest.#l(t,l,n,u,s,e,a,c,Http.METHOD_PUT)}static delete(t,l=null,n=null,u=null,s=null,e={},a=0,c=!0){Rest.#l(t,l,n,u,s,e,a,c,Http.METHOD_DELETE)}static patch(t,l=null,n=null,u=null,s=null,e={},a=0,c=!0){Rest.#l(t,l,n,u,s,e,a,c,Http.METHOD_PATCH)}static#l(t,l,n,u,s,e,a,c,o){Http.send(Location.build(t),(t=>{if(""!==t){let s=null,e=!0;try{s=JSON.parse(t)}catch(t){e=!1}e?null!==s.content?l&&l(s.content,s):0===s.code?n&&n(s):u&&u(s):u&&u()}else u&&u()}),u,s,o,e,a,c)}static#t(t,l,n,u,s,e,a,c,o,i,p){Http.send(Location.build(t),(t=>{if(""!==t){let a=null,c=!0;try{a=JSON.parse(t)}catch(t){c=!1}c?null!==a.content&&a.content.length>0?(n&&n(a),a.content.forEach((t=>l(t,a))),u&&u(a)):0===a.code?s&&s(a):e&&e(a):e&&e()}else s&&s()}),e,a,p,c,o,i)}}
